<app-freelancernav></app-freelancernav>
<div class="all-success" *ngIf="!success">
  <div class="successmsg">
    <p class="successhead">Success! Your Proposal Sent</p>
    <img class="whopee" src="../assets/Success.gif" alt="Success" />
    <p class="redirecte">Redirecting now...</p>
    <img
      class="successtick"
      src="../assets/Lottie gif.gif"
      alt="Pubkin-success"
    />
  </div>
</div>

<div
  class="modal fade"
  id="savejob"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div
      class="modal-content draftmodel"
      style="width: 30%; margin-left: 580px"
    >
      <button
        type="button"
        class="btn-close e1"
        data-bs-dismiss="modal"
        aria-label="Close"
      ></button>
      <div class="pad1">
        <div class="modal-hed">
          <p class="c22" id="exampleModalLabel5">
            <b>Do you want save this job ?</b>
          </p>
        </div>
        <div class="kksubbtn">
          <button type="button" class="btn kkkbtnbk" data-bs-dismiss="modal">
            Back
          </button>
          <button
            type="button"
            class="btn kkkbtncn"
            data-bs-dismiss="modal"
            routerLink="/freelancers"
          >
            Confirm
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container" *ngIf="JobPost && success">
  <form
    #applyForm="ngForm"
    (ngSubmit)="submitApplied(); handleFormSubmission()"
    novalidate
  >
    <input
      type="hidden"
      id="id"
      name="id"
      [(ngModel)]="appliedservice.applyData.id"
    />
    <input
      type="hidden"
      id="createdBy"
      name="createdBy"
      [(ngModel)]="appliedservice.applyData.createdBy"
    />
    <input
      type="hidden"
      id="dateCreated"
      name="dateCreated"
      [(ngModel)]="appliedservice.applyData.dateCreated"
    />
    <input
      type="hidden"
      id="applyDate"
      name="applyDate"
      [(ngModel)]="appliedservice.applyData.applyDate"
    />
    <input
      type="hidden"
      id="jobId"
      name="jobId"
      [(ngModel)]="appliedservice.applyData.jobId"
    />
    <input
      type="hidden"
      id="userId"
      name="userId"
      [(ngModel)]="appliedservice.applyData.userId"
    />
    <input
      type="hidden"
      id="postBy"
      name="postBy"
      [(ngModel)]="appliedservice.applyData.postBy"
    />
    <input
      type="hidden"
      id="jobTitle"
      name="jobTitle"
      [(ngModel)]="appliedservice.applyData.jobTitle"
    />
    <input
      type="hidden"
      id="jobDescription"
      name="jobDescription"
      [(ngModel)]="appliedservice.applyData.jobDescription"
    />
    <input
      type="hidden"
      id="rate"
      name="rate"
      [(ngModel)]="appliedservice.applyData.rate"
    />
    <input
      type="hidden"
      id="status"
      name="status"
      [(ngModel)]="appliedservice.applyData.status"
    />
    <input
      type="hidden"
      id="userEmail"
      name="userEmail"
      [(ngModel)]="appliedservice.applyData.userEmail"
    />
    <input
      type="hidden"
      id="skillSet"
      name="skillSet"
      [(ngModel)]="appliedservice.applyData.skillSet"
    />
    <input
      type="hidden"
      id="fileUrl"
      name="fileUrl"
      [(ngModel)]="appliedservice.applyData.fileUrl"
    />
    <input
      type="hidden"
      id="AttachFile"
      name="AttachFile"
      [(ngModel)]="appliedservice.applyData.AttachFile"
    />
    <input
      type="hidden"
      id="applideUserProfile"
      name="applideUserProfile"
      [(ngModel)]="appliedservice.applyData.applideUserProfile"
    />
    <input
      type="hidden"
      id="jobUniqueId"
      name="jobUniqueId"
      [(ngModel)]="appliedservice.applyData.jobUniqueId"
    />

    <p class="phead">Submit a Proposal</p>
    <div class="apbox">
      <div class="container">
        <div class="row">
          <div class="col-9">
            <p class="phead1 phead2">Job Details</p>
            <p class="phead1">
              {{ JobPost.jobUniqueId }} - {{ JobPost.jobTitle }}
            </p>
            <p class="pcont">{{ JobPost.description | slice : 0 : 200 }}...</p>
            <div class="row">
              <div class="col-12">
                <div class="skill">{{ JobPost.skillSet }}</div>
              </div>
            </div>
          </div>
          <div class="col-3">
            <div class="line">
              <div class="icons">
                <img class="ico" src="../assets/clock.png" alt="Pubkin" /><span
                  style="margin-left: -4px"
                >
                  {{ JobPost.projectEndDate }}
                  {{ JobPost.durationOfProject }}</span
                >
              </div>
              <div class="icons">
                <img class="ico" src="../assets/money.png" alt="pubkin" />
                <p class="alignvv">
                  <span *ngIf="JobPost.currency === 'INR'">₹</span>
                  <span *ngIf="JobPost.currency === 'USD'">$</span>
                  <span *ngIf="JobPost.currency === 'AED'">د.إ</span>
                  <span *ngIf="JobPost.currency === 'ANG'">ƒ</span>
                  <span *ngIf="JobPost.currency === 'AOA'">Kz</span>
                  <span *ngIf="JobPost.currency === 'ARS  '">$</span>
                  <span *ngIf="JobPost.currency === 'OMR'">ر.ع.</span>
                  <span *ngIf="JobPost.currency === 'SAR'">.س</span>
                  {{ JobPost.fromBudget }} - {{ JobPost.toBudget }}<br />/{{
                    JobPost.rateBasis
                  }}
                </p>
              </div>
              <div class="icons">
                <img class="ico" src="../assets/on _Report_.png" alt="Pubkin" />
                <span style="margin-left: -4px"> {{ JobPost.experience }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="lin1"></div>

      <p class="phead2">Cover Letter</p>

      <textarea maxlength="450"
        [(ngModel)]="inputText"
        (input)="onInputChange()"
        ngModel
        [ngClass]="getCharacterCountClass()"
        name="applyCoverLetter"
        required
        #applyCoverLetter="ngModel"
        id="applyCoverLetter"
        [(ngModel)]="appliedservice.applyData.applyCoverLetter"
        required
        class="covcont"
      >
Lorem ipsum dolor sit amet consectetur. Erat pellentesque eleifend at suspendisse. Pulvinar tellus metus mattis hendrerit in nam. Amet ut et commodo odio leo duis proin. Cursus magna dolor lectus turpis varius sem. Et in quisque feugiat sed aliquet semper.</textarea
      >
      <div
        *ngIf="
          applyCoverLetter.invalid &&
          (applyCoverLetter.dirty || applyCoverLetter.touched)
        "
      >
        <span *ngIf="applyCoverLetter.errors?.['required']" class="errormsg">
          Cover Letter is required
        </span>
      </div>
      <div class="row characterlimit">
        <div class="col-8"></div>
        <div class="col-3">
          <p class="remain1" [ngClass]="getCharacterCountClass()">
            {{ charactersLeft }} Character remaining
          </p>
        </div>
        <div class="col-1"></div>
      </div>
      <p class="phead3">Attachments</p>

      <label class="up">
        <!-- <input  class="d-none" type="file" (change)="onFileSelected($event)"/> -->
        <input
          #fileInput
          type="file"
          class="d-none"
          id="file"
          name="file"
          (change)="onFileSelected($event);UploadFileName($event)"
          required
        />
        <span *ngIf="!uploadedFileName"> Drag or&nbsp;</span>
        <span class="upl">{{
          uploadedFileName ? uploadedFileName : "upload"
        }}</span>
        <span *ngIf="!uploadedFileName">&nbsp;here</span>
      </label>
      <p class="atta">You may attach upto 25 mb of file.</p>
      <div class="lin1"></div>
      <p class="phead2">
        Terms
        <br />
        <span class="crate"
          >Client rate: <span *ngIf="JobPost.currency === 'INR'">₹</span>
          <span *ngIf="JobPost.currency === 'USD'">$</span>
          <span *ngIf="JobPost.currency === 'AED'">د.إ</span>
          <span *ngIf="JobPost.currency === 'ANG'">ƒ</span>
          <span *ngIf="JobPost.currency === 'AOA'">Kz</span>
          <span *ngIf="JobPost.currency === 'ARS'">$</span>
          <span *ngIf="JobPost.currency === 'OMR'">ر.ع.</span>
          <span *ngIf="JobPost.currency === 'SAR'">.س</span>
          {{ JobPost.toBudget }}/{{ JobPost.rateBasis }}
        </span>
      </p>
      <div class="container">
        <div class="row">
          <div class="col-4">
            <p class="rate1">
              Add Your Rate<br />
              <span class="cont1">Specify your rates</span>
            </p>
          </div>
          <div class="col-5"></div>
          <div class="col-3">
            <div class="position-relative float-end mt-3">
              <div class="position-absolute">
                <span *ngIf="JobPost.currency === 'INR'" class="moneysymbol"
                  >₹</span
                >
                <span *ngIf="JobPost.currency === 'USD'" class="moneysymbol"
                  >$</span
                >
                <span *ngIf="JobPost.currency === 'AED'" class="moneysymbol"
                  >د.إ</span
                >
                <span *ngIf="JobPost.currency === 'ANG'" class="moneysymbol"
                  >ƒ</span
                >
                <span *ngIf="JobPost.currency === 'AOA'" class="moneysymbol"
                  >Kz</span
                >
                <span *ngIf="JobPost.currency === 'ARS'" class="moneysymbol"
                  >$</span
                >
                <span *ngIf="JobPost.currency === 'OMR'" class="moneysymbol"
                  >ر.ع.</span
                >
                <span *ngIf="JobPost.currency === 'SAR'" class="moneysymbol"
                  >.س</span
                >
              </div>
              <input
                type="text"
                class="int"
                id="biddingRate"
                name="biddingRate"
                ngModel
                placeholder="2000"
                [(ngModel)]="formData.actualValue"
                (input)="calculateResult()"
                required
              />
              <div class="hr">/{{ JobPost.rateBasis }}</div>
            </div>
          </div>
          <!-- <div class="col-1">
            <p class="hr">/{{ JobPost.rateBasis }}</p>
          </div> -->
        </div>
        <hr style="border: 1px solid #1c1c1c" />
        <div class="row">
          <div class="col-4">
            <p class="rate1">
              2% Platform Fee <br />
              <span class="cont1">Small service fee</span>
            </p>
          </div>
          <div class="col-5"></div>
          <div class="col-3">
            <div class="position-relative float-end mt-3">
              <div class="position-absolute">
                <span *ngIf="JobPost.currency === 'INR'" class="moneysymbol"
                  >₹</span
                >
                <span *ngIf="JobPost.currency === 'USD'" class="moneysymbol"
                  >$</span
                >
                <span *ngIf="JobPost.currency === 'AED'" class="moneysymbol"
                  >د.إ</span
                >
                <span *ngIf="JobPost.currency === 'ANG'" class="moneysymbol"
                  >ƒ</span
                >
                <span *ngIf="JobPost.currency === 'AOA'" class="moneysymbol"
                  >Kz</span
                >
                <span *ngIf="JobPost.currency === 'ARS'" class="moneysymbol"
                  >$</span
                >
                <span *ngIf="JobPost.currency === 'OMR'" class="moneysymbol"
                  >ر.ع.</span
                >
                <span *ngIf="JobPost.currency === 'SAR'" class="moneysymbol"
                  >.س</span
                >
              </div>
              <input
                type="text"
                disabled
                class="int"
                placeholder="40"
                disabled
                readonly
                id="subtractValue"
                name="subtractValue"
                ngModel
                [value]="formData.displaySubtractValue"
                required
              />
              <div class="hr">/{{ JobPost.rateBasis }}</div>
            </div>
          </div>
          <!-- <div class="col-1">
            <p class="hr">/{{ JobPost.rateBasis }}</p>
          </div> -->
        </div>
        <hr style="border: 1px solid #1c1c1c" />
        <div class="row">
          <div class="col-4">
            <p class="rate1">
              Payment You’ll get after tax <br />
              <span class="cont1">Receive net payment</span>
            </p>
          </div>
          <div class="col-5"></div>
          <div class="col-3">
            <div class="position-relative float-end mt-3">
              <div class="position-absolute">
                <span *ngIf="JobPost.currency === 'INR'" class="moneysymbol"
                  >₹</span
                >
                <span *ngIf="JobPost.currency === 'USD'" class="moneysymbol"
                  >$</span
                >
                <span *ngIf="JobPost.currency === 'AED'" class="moneysymbol"
                  >د.إ</span
                >
                <span *ngIf="JobPost.currency === 'ANG'" class="moneysymbol"
                  >ƒ</span
                >
                <span *ngIf="JobPost.currency === 'AOA'" class="moneysymbol"
                  >Kz</span
                >
                <span *ngIf="JobPost.currency === 'ARS'" class="moneysymbol"
                  >$</span
                >
                <span *ngIf="JobPost.currency === 'OMR'" class="moneysymbol"
                  >ر.ع.</span
                >
                <span *ngIf="JobPost.currency === 'SAR'" class="moneysymbol"
                  >.س</span
                >
              </div>
              <input
                type="text"
                class="int"
                placeholder="1920"
                id="taxValue"
                name="taxValue"
                ngModel
                disabled
                [value]="formData.taxValue"
                required
              />
              <div class="hr">/{{ JobPost.rateBasis }}</div>
            </div>
          </div>
          <!-- <div class="col-1">
            <p class="hr">/{{ JobPost.rateBasis }}</p>
          </div> -->
        </div>
      </div>
    </div>
    <mat-checkbox class="example-margin check123" name="myCheckbox" ngModel required (click)="AppliedJobs()"></mat-checkbox>
    <span class="pcont terms"
      >I accept and agree to the
      <span
        class="text-decoration-underline termsand"
        data-bs-toggle="modal"
        data-bs-target="#myModal"
        >terms of use.</span
      > </span
    ><br />
    <button class="btn aplbtn" [disabled]="applyForm.invalid" type="submit" (click)="notifyNow();">Apply now</button>
  </form>
  <button class="sabtn" data-bs-toggle="modal" data-bs-target="#savejob">
    Save as draft
  </button>
  <br /><br /><br /><br />
</div>

<!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog p-5 modal-dialog-scrollable modalterms">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <p class="modal-title kkhead">
          Non-disclosure agreement (NDA) between author and freelancer using
          pubkin
        </p>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        <ul
          class="list-unstyled float-end px-5 text-end termssidecont"
          style="font-size: 17px"
        >
          <li>Pubkin</li>
          <li>Address</li>
          <li>Chennai - 6300001, <br />TamiNadu</li>
          <li>{{ currentDate | date }}</li>
        </ul>
        <ul class="list-unstyled float-end px-5 text-start termssidecont">
          <li>
            This Non-disclosure agreement (the "Agreement") is entered into by
            and between:
          </li>
          <br>
          <li class="text-decoration-underline termsandconditioncont">
            Disclosing party:
          </li>
          <li>{{ JobPost.createdBy }}</li>
          <li>
            <span *ngIf="JobPost.currency === 'INR'">India</span>
            <span *ngIf="JobPost.currency === 'USD'">America</span>
            <span *ngIf="JobPost.currency === 'AED'">United Arab Emirates</span>
            <span *ngIf="JobPost.currency === 'ANG'">Netherland</span>
            <span *ngIf="JobPost.currency === 'AOA'">Central Africa</span>
            <span *ngIf="JobPost.currency === 'ARS'">Argentina</span>
            <span *ngIf="JobPost.currency === 'OMR'">Oman</span>
            <span *ngIf="JobPost.currency === 'SAR'">Saudi Arabia</span>
          </li>
          <!-- <li>[City, State, ZIP Code]</li><br> -->
          <br />
          <li class="text-decoration-underline termsandconditioncont">
            Receiving party:
          </li>
          <li>{{ UserData[0].firstName }} {{ UserData[0].lastName }}</li>
          <li>{{ UserData[0].country }}</li>
          <!-- <li>[City, State, ZIP Code]</li><br> -->
          <br />

          <li class="text-decoration-underline termsandconditioncont">
            Purpose:
          </li>
          <li class="liscontentvv">
            The parties desire to explore the possibility of collaboration on
            publishing services through PubKin (the "Platform"). In connection
            with this collaboration, the disclosing party may disclose certain
            confidential information to the receiving party.
          </li>
          <br />
          <li class="text-decoration-underline termsandconditioncont">
            Confidential information:
          </li>
          <li class="liscontentvv">
            Confidential information shall include any data or information, oral
            or written, disclosed by the disclosing party to the receiving party
            related to the publishing services on PubKin. This includes but is
            not limited to manuscripts, creative works, proprietary information,
            business strategies, and any other information deemed confidential
            by the disclosing party.
          </li>
          <br />
          <li class="text-decoration-underline termsandconditioncont">
            Obligations
          </li>
          <li class="liscontentvv">The receiving party agrees to:</li>
          <li class="liscontentvv">
            Maintain the confidentiality of all confidential information.
          </li>
          <li class="liscontentvv">
            Use the confidential information solely for the purpose of
            collaboration on PubKin publishing services. Not disclose,
            reproduce, or distribute the confidential information to any third
            party without prior written consent from the disclosing party.
          </li>
          <br />
          <li class="text-decoration-underline termsandconditioncont">
            Exceptions:
          </li>
          <li class="liscontentvv">
            The obligations set forth in this agreement shall not apply to
            information that:
          </li>
          <li class="liscontentvv">
            Is or becomes publicly available without breach of this Agreement.
            Is independently developed by the receiving party without reference
            to the confidential information. Is rightfully received by the
            receiving party from a third party without restriction.
          </li>
          <br />
          <li class="text-decoration-underline termsandconditioncont">
            Payment terms:
          </li>
          <li class="liscontentvv">
            All payment terms and arrangements between the Author and Freelancer
            shall be agreed upon separately and are not covered by this
            agreement.
          </li>
          <br />
          <li class="text-decoration-underline termsandconditioncont">
            Service Level Agreement (SLA):
          </li>
          <li class="liscontentvv">
            The Parties agree to abide by the SLA provided by PubKin for the
            publishing services. Any disputes or concerns regarding the SLA
            shall be addressed in accordance with PubKin's policies and
            procedures.
          </li>
          <br />
          <li class="text-decoration-underline termsandconditioncont">
            Duration:
          </li>
          <li class="liscontentvv">
            This agreement shall commence on the effective date and shall remain
            in effect for
            <span style="color: #a426d1"
              >{{ JobPost.projectEndDate }}
              {{ JobPost.durationOfProject }}</span
            >
            unless terminated earlier by mutual written agreement of the
            parties.
          </li>
          <br />
          <li class="text-decoration-underline termsandconditioncont">
            Termination:
          </li>
          <li class="liscontentvv">
            Either party may terminate this Agreement upon written notice if the
            other party breaches any material provision of this agreement.
          </li>
          <br />
          <li class="text-decoration-underline termsandconditioncont">
            Governing law:
          </li>
          <li class="liscontentvv">
            This agreement shall be governed by and construed in accordance with
            the laws of
            <span >
              <span *ngIf="JobPost.currency === 'INR'" style="color: #a426d1">India</span>
              <span *ngIf="JobPost.currency === 'USD'" style="color: #a426d1">America</span>
              <span *ngIf="JobPost.currency === 'AED'" style="color: #a426d1">United Arab Emirates</span>
              <span *ngIf="JobPost.currency === 'ANG'" style="color: #a426d1">Netherland</span>
              <span *ngIf="JobPost.currency === 'AOA'" style="color: #a426d1">Central Africa</span>
              <span *ngIf="JobPost.currency === 'ARS'" style="color: #a426d1">Argentina</span>
              <span *ngIf="JobPost.currency === 'OMR'" style="color: #a426d1">Oman</span>
              <span *ngIf="JobPost.currency === 'SAR'" style="color: #a426d1">Saudi Arabia</span>
              </span
            >.
          </li>
          <br />
          <li class="text-decoration-underline termsandconditioncont">
            Entire agreement:
          </li>
          <li class="liscontentvv">
            This agreement constitutes the entire understanding between the
            Parties and supersedes all prior discussions, negotiations, and
            agreements, whether oral or written.<br />
            In witness whereof, the Parties hereto have executed this
            Non-Disclosure agreement as of the effective date.
          </li>
          <br />
          <li
            class="text-decoration-underline termsandconditioncont float-end text-start"
          >
            Freelancer:
          </li>
          <br />
          <li class="liscontentvv" class="float-end text-start">
            {{ UserData[0].firstName }} {{ UserData[0].lastName }}
          </li>
          <br />
          <!-- <li class=" liscontentvv" class="float-end text-start">{{UserData[0].firstName}} {{UserData[0].lastName}}</li><br> -->
          <li class="liscontentvv" class="float-end text-start">
            {{ currentDate | date }}
          </li>
          <br />
          <button type="button" class="btn btnfr" data-bs-dismiss="modal">
            Agree
          </button>
        </ul>
      </div>
      <div class="border border-light"></div>
    </div>
  </div>
</div>



<!-- Notification Form -->
<form #notificationForm="ngForm" (ngSubmit)="onSubmitNotification(notificationForm)">
  <input type="hidden" id="id" name="id" [(ngModel)]="notificationsService.notificationData.id">
  <input type="hidden" id="userId" name="userId" [(ngModel)]="notificationsService.notificationData.userId">
  <input type="hidden" id="notification" name="notification" [(ngModel)]="notificationsService.notificationData.notification">
  <input type="hidden" id="notificationDate" name="notificationDate" [(ngModel)]="notificationsService.notificationData.notificationDate">
  <button type="submit"  class="d-none"  #notificationButton>Save</button>
 </form>